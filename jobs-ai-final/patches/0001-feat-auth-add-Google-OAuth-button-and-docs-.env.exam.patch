From 3d4b87fa2d597d011623385054f9a02a26c8ed93 Mon Sep 17 00:00:00 2001
From: sanjayt19 <65835503+sanjayt19@users.noreply.github.com>
Date: Sun, 9 Nov 2025 17:37:51 +0000
Subject: [PATCH] feat(auth): add Google OAuth button and docs (.env.example)

---
 jobs-ai-final/.env.example                   |  8 ++++
 jobs-ai-final/README.md                      | 38 +++++++++++++++++
 jobs-ai-final/src/components/OAuthButton.tsx | 44 ++++++++++++++++++++
 jobs-ai-final/src/pages/Login.tsx            |  9 ++++
 jobs-ai-final/src/pages/Signup.tsx           |  9 ++++
 5 files changed, 108 insertions(+)
 create mode 100644 jobs-ai-final/.env.example
 create mode 100644 jobs-ai-final/README.md
 create mode 100644 jobs-ai-final/src/components/OAuthButton.tsx

diff --git a/jobs-ai-final/.env.example b/jobs-ai-final/.env.example
new file mode 100644
index 0000000..46a5136
--- /dev/null
+++ b/jobs-ai-final/.env.example
@@ -0,0 +1,8 @@
+# Copy this file to .env and fill in values for local development.
+# Do NOT commit real keys into source control.
+
+VITE_SUPABASE_URL=https://eqihicsmlywtshxwxltb.supabase.co
+VITE_SUPABASE_ANON_KEY=your-anon-key-here
+
+# Optional: set the redirect origin if you want a specific path
+# REDIRECT_ORIGIN=http://localhost:5173
diff --git a/jobs-ai-final/README.md b/jobs-ai-final/README.md
new file mode 100644
index 0000000..e5446ad
--- /dev/null
+++ b/jobs-ai-final/README.md
@@ -0,0 +1,38 @@
+# Jobs.AI (frontend)
+
+This folder contains the Vite + React frontend for Jobs.AI.
+
+Local dev
+
+1. Copy `.env.example` to `.env` in the `jobs-ai-final` directory and add values:
+
+```
+VITE_SUPABASE_URL=https://<your-supabase-ref>.supabase.co
+VITE_SUPABASE_ANON_KEY=<your-anon-key>
+```
+
+2. Install dependencies and start dev server:
+
+```bash
+cd jobs-ai-final
+npm install
+npm run dev
+```
+
+Supabase + Google OAuth setup (overview)
+
+1. Create Google OAuth credentials in Google Cloud Console. Set the Authorized redirect URI to:
+
+```
+https://<your-supabase-ref>.supabase.co/auth/v1/callback
+```
+
+2. In the Supabase project dashboard, go to Authentication -> Providers -> Google and add the Client ID and Client Secret created above.
+
+3. In Vercel (or other hosting), set the environment variables `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY` in the project settings.
+
+4. The frontend uses `supabase.auth.signInWithOAuth({ provider: 'google', options: { redirectTo } })`.
+
+Notes
+- Do not commit real secrets. Use Vercel environment variables for production secrets.
+- After enabling Google provider in Supabase, users will be able to sign-in with Google from the Login and Signup pages.
diff --git a/jobs-ai-final/src/components/OAuthButton.tsx b/jobs-ai-final/src/components/OAuthButton.tsx
new file mode 100644
index 0000000..7bf47e8
--- /dev/null
+++ b/jobs-ai-final/src/components/OAuthButton.tsx
@@ -0,0 +1,44 @@
+import React from 'react';
+import { supabase } from '../lib/supabase';
+
+type OAuthButtonProps = {
+  provider?: 'google';
+  className?: string;
+};
+
+export default function OAuthButton({ provider = 'google', className = '' }: OAuthButtonProps) {
+  const handleOAuth = async () => {
+    try {
+      // Redirect back to the app origin after OAuth flow. Supabase will complete the flow.
+      const redirectTo = window.location.origin;
+      const { error } = await supabase.auth.signInWithOAuth({
+        provider,
+        options: { redirectTo },
+      });
+
+      if (error) {
+        // show a simple error for now; app-level UI may display this better later
+        alert(error.message);
+      }
+    } catch (err: any) {
+      console.error('OAuth error', err);
+      alert(err?.message ?? 'OAuth failed');
+    }
+  };
+
+  return (
+    <button
+      type="button"
+      onClick={handleOAuth}
+      className={`w-full flex items-center justify-center gap-3 px-4 py-2 rounded-lg border border-slate-600 bg-white/5 hover:bg-white/10 text-white font-semibold ${className}`}
+    >
+      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" className="w-5 h-5">
+        <path fill="#fbc02d" d="M43.6 20.5H42V20H24v8h11.3C34.3 33.6 29.5 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.3 0 6.3 1.2 8.6 3.2l6.2-6.2C33.7 4.6 29 3 24 3 12.8 3 4 11.8 4 23s8.8 20 20 20c11.1 0 20-8 20-20 0-1.3-.1-2.6-.4-3.9z"/>
+        <path fill="#e53935" d="M6.3 14.7l6.6 4.8C15.2 15 19.2 12 24 12c3.3 0 6.3 1.2 8.6 3.2l6.2-6.2C33.7 4.6 29 3 24 3c-6.8 0-12.8 3.6-17 9.7z"/>
+        <path fill="#4caf50" d="M24 45c5 0 9.6-1.6 13.5-4.4l-6.4-5.3C29.9 35.8 27.1 37 24 37c-5.5 0-10.3-3.4-12-8.3L5.3 33.6C8.3 39.9 15.3 45 24 45z"/>
+        <path fill="#1565c0" d="M43.6 20.5H42V20H24v8h11.3c-1.2 3.5-3.6 6.4-6.6 8.3l.1-.1 6.1 5.1C39.9 39 44 32 44 24c0-1.3-.1-2.6-.4-3.9z"/>
+      </svg>
+      Continue with Google
+    </button>
+  );
+}
diff --git a/jobs-ai-final/src/pages/Login.tsx b/jobs-ai-final/src/pages/Login.tsx
index 8a11023..3dc675a 100644
--- a/jobs-ai-final/src/pages/Login.tsx
+++ b/jobs-ai-final/src/pages/Login.tsx
@@ -1,6 +1,7 @@
 import { useState } from 'react';
 import { Link, useNavigate } from 'react-router-dom';
 import { supabase } from '../lib/supabase';
+import OAuthButton from '../components/OAuthButton';
 import { Sparkles } from 'lucide-react';
 
 export default function Login() {
@@ -40,6 +41,14 @@ export default function Login() {
         </div>
 
         <div className="bg-slate-800 p-8 rounded-xl">
+          <div className="mb-4">
+            <OAuthButton />
+          </div>
+          <div className="flex items-center gap-3 my-3">
+            <div className="flex-1 h-[1px] bg-slate-700" />
+            <div className="text-sm text-slate-400">or</div>
+            <div className="flex-1 h-[1px] bg-slate-700" />
+          </div>
           <form onSubmit={handleLogin} className="space-y-6">
             {error && (
               <div className="bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded">
diff --git a/jobs-ai-final/src/pages/Signup.tsx b/jobs-ai-final/src/pages/Signup.tsx
index 4757f9c..d4b1e82 100644
--- a/jobs-ai-final/src/pages/Signup.tsx
+++ b/jobs-ai-final/src/pages/Signup.tsx
@@ -1,6 +1,7 @@
 import { useState } from 'react';
 import { Link, useNavigate } from 'react-router-dom';
 import { supabase } from '../lib/supabase';
+import OAuthButton from '../components/OAuthButton';
 import { Sparkles } from 'lucide-react';
 
 export default function Signup() {
@@ -61,6 +62,14 @@ export default function Signup() {
         </div>
 
         <div className="bg-slate-800 p-8 rounded-xl">
+          <div className="mb-4">
+            <OAuthButton />
+          </div>
+          <div className="flex items-center gap-3 my-3">
+            <div className="flex-1 h-[1px] bg-slate-700" />
+            <div className="text-sm text-slate-400">or</div>
+            <div className="flex-1 h-[1px] bg-slate-700" />
+          </div>
           <form onSubmit={handleSignup} className="space-y-6">
             {error && (
               <div className="bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded">
-- 
2.50.1

